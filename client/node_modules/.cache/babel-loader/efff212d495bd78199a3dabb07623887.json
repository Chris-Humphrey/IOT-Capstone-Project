{"ast":null,"code":"import _objectSpread from \"/Users/volleyball_chik_100/DigitalCrafts/Projects/IOT-Practice-2/gardenia2/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/volleyball_chik_100/DigitalCrafts/Projects/IOT-Practice-2/gardenia2/client/src/layout/Header.js\";\n// OLD HEADER\n// import React from 'react';\n// import { Link } from 'react-router-dom';\n// export default () => {\n//     return (\n//         <>\n//             <Link to='/'>Home | </Link> \n//             <Link to='/signin'>Signin | </Link>     \n//             <Link to='/signout'>Signout | </Link>   \n//             <Link to='/signup'>Signup | </Link>     \n//             <Link to='/dashboard'>Dashboard | </Link>   \n//             <Link to='/search'> Search</Link>\n//         </>\n//     )\n// }\nimport _ from \"lodash\";\nimport React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport myImage from './images/mainLogo.png';\nimport \"../layout/header.css\";\nimport addZipCode from '../actions/addZipCode';\nimport addWeather from '../actions/addWeather';\nimport cloud from './images/cloud.png';\nimport rain from './images/rain.png'; // import ice from './images/ice.png';\n// import storm from './images/storm.png';\n\nimport sunny from './images/sunny.png';\nimport '../components/weather.css';\nimport { Container, Card, Input, Icon, Label, Image, Menu, Sidebar, Responsive } from \"semantic-ui-react\";\nlet apiAddress = \"http://api.openweathermap.org/data/2.5/weather?zip=\";\nlet imperial = \"&units=imperial\";\nlet apiKey = \"&appid=70fac660e1d65b98fb8ce269ad67799d\";\n\nconst NavBarMobile = ({\n  children,\n  leftItems,\n  onPusherClick,\n  onToggle,\n  rightItems,\n  visible\n}) => React.createElement(Sidebar.Pushable, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61\n  },\n  __self: this\n}, React.createElement(Sidebar, {\n  as: Menu,\n  animation: \"overlay\",\n  icon: \"labeled\",\n  inverted: true,\n  items: leftItems,\n  vertical: true,\n  visible: visible,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62\n  },\n  __self: this\n}), React.createElement(Sidebar.Pusher, {\n  dimmed: visible,\n  onClick: onPusherClick,\n  style: {\n    minHeight: \"100vh\"\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71\n  },\n  __self: this\n}, React.createElement(Menu, {\n  fixed: \"top\",\n  inverted: true,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 76\n  },\n  __self: this\n}, React.createElement(Menu.Item, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 77\n  },\n  __self: this\n}, React.createElement(Image, {\n  size: \"mini\",\n  src: \"./images/mainLogo.png\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 78\n  },\n  __self: this\n})), React.createElement(Menu.Item, {\n  onClick: onToggle,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 80\n  },\n  __self: this\n}, React.createElement(Icon, {\n  name: \"sidebar\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 81\n  },\n  __self: this\n})), React.createElement(Menu.Menu, {\n  position: \"right\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 83\n  },\n  __self: this\n}, _.map(rightItems, item => React.createElement(Menu.Item, Object.assign({}, item, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84\n  },\n  __self: this\n}))))), children));\n\nconst NavBarDesktop = props => {\n  console.log('props');\n  console.log(props);\n  return React.createElement(Menu, {\n    fixed: \"top\",\n    inverted: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Image, {\n    size: \"mini\",\n    style: {\n      paddingRight: \"1em\"\n    },\n    src: myImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), \"Gardenia\"), React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"font\", {\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Dashboard\")), React.createElement(Menu.Menu, {\n    position: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Search...\",\n    onKeyPress: this.props.onZipHandler.bind(this),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), props.desktopProps.isLoggedIn && React.createElement(Menu.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Hello, \", props.desktopProps.username), Object.keys(props.desktopProps.weatherImage).length > 0 && React.createElement(Menu.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Image, {\n    size: \"mini\",\n    src: props.desktopProps.weatherImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), props.desktopProps.tempMain.temp + 'F'), !props.desktopProps.isLoggedIn && React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/signin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Login\"), props.desktopProps.isLoggedIn && React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/signout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Signout\"), !props.desktopProps.isLoggedIn && React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(Menu.Item, {\n    as: Link,\n    to: \"/search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"font\", {\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Search\"))));\n};\n\nconst NavBarChildren = ({\n  children\n}) => React.createElement(Container, {\n  fluid: true,\n  style: {\n    marginTop: \"5em\"\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 143\n  },\n  __self: this\n}, children);\n\nclass NavBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onZipHandler = e => {\n      if (e.charCode === 13) {\n        this.props.onaddZipCode({\n          zipcode: e.target.value\n        });\n        this.setState({\n          zipcode: e.target.value,\n          error: ''\n        }, () => {\n          fetch(apiAddress + this.state.zipcode + imperial + apiKey).then(response => {\n            return response.json();\n          }).then(data => {\n            this.setState({\n              forecast: data.weather[0],\n              tempMain: data.main,\n              name: data.name\n            });\n            let image = this.state.forecast.main === 'Clouds' ? {\n              cloud\n            } : this.state.forecast.main === 'Haze' || this.state.forecast.main === 'Clear' ? {\n              sunny\n            } : this.state.forecast.main === 'Rain' ? {\n              rain\n            } : null;\n            this.props.onaddWeather(_objectSpread({}, this.state, {\n              forecast: data.weather[0],\n              tempMain: data.main,\n              weatherImage: Object.values(image)\n            }));\n          }).catch(err => {\n            this.setState({\n              error: 'Not a valid input'\n            });\n          });\n        });\n      }\n    };\n\n    this.handlePusher = () => {\n      const visible = this.state.visible;\n      if (visible) this.setState({\n        visible: false\n      });\n    };\n\n    this.handleToggle = () => this.setState({\n      visible: !this.state.visible\n    });\n\n    this.state = {\n      visible: false,\n      zipcode: 0,\n      error: '',\n      image: {},\n      name: ''\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          children = _this$props.children,\n          leftItems = _this$props.leftItems,\n          rightItems = _this$props.rightItems;\n    const visible = this.state.visible;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Responsive, Object.assign({}, Responsive.onlyMobile, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(NavBarMobile, {\n      leftItems: leftItems,\n      onPusherClick: this.handlePusher,\n      onToggle: this.handleToggle,\n      rightItems: rightItems,\n      visible: visible,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(NavBarChildren, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, children))), React.createElement(Responsive, {\n      minWidth: Responsive.onlyTablet.minWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(NavBarDesktop, {\n      desktopProps: this.props.stateProps,\n      onZipHandler: this.onZipHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(NavBarChildren, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, children)));\n  }\n\n}\n\nconst App = props => React.createElement(NavBar, {\n  stateProps: props,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 233\n  },\n  __self: this\n}, props.children);\n\nlet mapStateToProps = state => {\n  return {\n    forecast: state.weatherReducer.forecast,\n    tempMain: state.weatherReducer.tempMain,\n    zipcode: state.weatherReducer.zipcode,\n    weatherImage: state.weatherReducer.weatherImage,\n    isLoggedIn: state.auth.isLoggedIn,\n    username: state.auth.username\n  };\n};\n\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/volleyball_chik_100/DigitalCrafts/Projects/IOT-Practice-2/gardenia2/client/src/layout/Header.js"],"names":["_","React","Component","connect","Link","myImage","addZipCode","addWeather","cloud","rain","sunny","Container","Card","Input","Icon","Label","Image","Menu","Sidebar","Responsive","apiAddress","imperial","apiKey","NavBarMobile","children","leftItems","onPusherClick","onToggle","rightItems","visible","minHeight","map","item","NavBarDesktop","props","console","log","paddingRight","onZipHandler","bind","desktopProps","isLoggedIn","username","Object","keys","weatherImage","length","tempMain","temp","NavBarChildren","marginTop","NavBar","constructor","e","charCode","onaddZipCode","zipcode","target","value","setState","error","fetch","state","then","response","json","data","forecast","weather","main","name","image","onaddWeather","values","catch","err","handlePusher","handleToggle","render","onlyMobile","onlyTablet","minWidth","stateProps","App","mapStateToProps","weatherReducer","auth"],"mappings":"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","sourcesContent":["// OLD HEADER\n// import React from 'react';\n// import { Link } from 'react-router-dom';\n\n// export default () => {\n//     return (\n//         <>\n//             <Link to='/'>Home | </Link> \n//             <Link to='/signin'>Signin | </Link>     \n//             <Link to='/signout'>Signout | </Link>   \n//             <Link to='/signup'>Signup | </Link>     \n//             <Link to='/dashboard'>Dashboard | </Link>   \n//             <Link to='/search'> Search</Link>\n//         </>\n//     )\n// }\n\nimport _ from \"lodash\";\nimport React, { Component } from \"react\";\nimport {connect} from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport myImage from './images/mainLogo.png';\nimport \"../layout/header.css\";\nimport addZipCode from '../actions/addZipCode';\nimport addWeather from '../actions/addWeather';\nimport cloud from './images/cloud.png';\nimport rain from './images/rain.png';\n// import ice from './images/ice.png';\n// import storm from './images/storm.png';\nimport sunny from './images/sunny.png';\nimport '../components/weather.css';\nimport {\n    Container,\n    Card,\n    Input,\n    Icon,\n    Label,\n    Image,\n    Menu,\n    Sidebar,\n    Responsive\n  } from \"semantic-ui-react\";\n\n\n\nlet apiAddress=\"http://api.openweathermap.org/data/2.5/weather?zip=\";\nlet imperial=\"&units=imperial\";\nlet apiKey=\"&appid=70fac660e1d65b98fb8ce269ad67799d\";\n\n\n\n\nconst NavBarMobile = ({\n    children,\n    leftItems,\n    onPusherClick,\n    onToggle,\n    rightItems,\n    visible\n}) => (\n    <Sidebar.Pushable>\n        <Sidebar\n        as={Menu}\n        animation=\"overlay\"\n        icon=\"labeled\"\n        inverted\n        items={leftItems}\n        vertical\n        visible={visible}\n        />\n        <Sidebar.Pusher\n        dimmed={visible}\n        onClick={onPusherClick}\n        style={{ minHeight: \"100vh\" }}\n        >\n        <Menu fixed=\"top\" inverted>\n            <Menu.Item>\n            <Image size=\"mini\" src=\"./images/mainLogo.png\" />\n            </Menu.Item>\n            <Menu.Item onClick={onToggle}>\n            <Icon name=\"sidebar\" />\n            </Menu.Item>\n            <Menu.Menu position=\"right\">\n            {_.map(rightItems, item => <Menu.Item {...item} />)}\n            </Menu.Menu>\n        </Menu>\n        {children}\n        </Sidebar.Pusher>\n    </Sidebar.Pushable>\n    );\n\nconst NavBarDesktop = (props) => {\n    console.log('props')\n    console.log(props)\n    return (\n    <Menu fixed=\"top\" inverted>\n        <Menu.Item as={Link} to='/'>\n            <Image size=\"mini\" style={{paddingRight: \"1em\"}} src={myImage} />\n            Gardenia\n        </Menu.Item>\n        <Menu.Item as={Link} to='/dashboard'>\n            <font color=\"white\">Dashboard</font>\n        </Menu.Item>\n        <Menu.Menu position=\"right\">\n\n        <Input placeholder='Search...' onKeyPress={this.props.onZipHandler.bind(this)}/>\n\n            { (props.desktopProps.isLoggedIn) &&\n                <Menu.Item >\n                    Hello, {props.desktopProps.username}\n                </Menu.Item>\n            }\n            { (Object.keys(props.desktopProps.weatherImage).length > 0) &&\n                <Menu.Item >\n                        <Image size='mini' src={props.desktopProps.weatherImage}/>\n                        {props.desktopProps.tempMain.temp + 'F'}\n                </Menu.Item>\n            }\n            { (!props.desktopProps.isLoggedIn) &&\n                <Menu.Item as={Link} to='/signin' >\n                    Login\n                </Menu.Item>\n            }\n            { (props.desktopProps.isLoggedIn) &&\n                <Menu.Item as={Link} to='/signout' >\n                    Signout\n                </Menu.Item>\n            }\n            { (!props.desktopProps.isLoggedIn) &&\n                <Menu.Item as={Link} to='/signup' >\n                    Sign Up\n                </Menu.Item>\n            }\n            <Menu.Item as={Link} to='/search'>\n                <font color=\"white\">Search</font>\n            </Menu.Item>\n        </Menu.Menu>\n    </Menu>\n    )\n}\n\nconst NavBarChildren = ({ children }) => (\n    <Container fluid style={{ marginTop: \"5em\" }}>{children}</Container>\n);\n\nclass NavBar extends Component {\n    constructor(props) {\n        super(props);\n    \n    this.state = {\n        visible: false,\n        zipcode: 0,\n        error: '',\n        image: {},\n        name: ''\n    };\n}\n\nonZipHandler = (e) => {\n        \n    if(e.charCode === 13){\n        this.props.onaddZipCode({\n            zipcode: e.target.value        \n        })\n        this.setState({\n            zipcode: e.target.value,\n            error: ''\n        }, () => {\n            fetch(apiAddress + this.state.zipcode + imperial + apiKey)\n            .then((response) => {\n                return response.json()\n            })\n            .then((data) => {\n                this.setState({\n                    forecast: data.weather[0],\n                    tempMain: data.main,\n                    name: data.name\n                })\n                let image = ((this.state.forecast.main === 'Clouds') ? {cloud} : (this.state.forecast.main === 'Haze' || this.state.forecast.main === 'Clear') ? {sunny} : (this.state.forecast.main === 'Rain') ? {rain} : null )\n                this.props.onaddWeather({\n                    ...this.state,\n                    forecast: data.weather[0],\n                    tempMain: data.main,\n                    weatherImage: Object.values(image)\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    error: 'Not a valid input'\n                })\n            })\n        })\n    }\n}  \n\n    handlePusher = () => {\n        const { visible } = this.state;\n\n        if (visible) this.setState({ visible: false });\n    };\n\n    handleToggle = () => this.setState({ visible: !this.state.visible });\n\n    render() {\n        const { children, leftItems, rightItems } = this.props;\n        const { visible } = this.state;\n\n    return (\n        <div>\n            <Responsive {...Responsive.onlyMobile}>\n                <NavBarMobile\n                    leftItems={leftItems}\n                    onPusherClick={this.handlePusher}\n                    onToggle={this.handleToggle}\n                    rightItems={rightItems}\n                    visible={visible}\n                >\n                    <NavBarChildren>{children}</NavBarChildren>\n                </NavBarMobile>\n            </Responsive>\n            <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n                <NavBarDesktop\n                 desktopProps={this.props.stateProps}\n                 onZipHandler={this.onZipHandler}/>\n                <NavBarChildren>{children}</NavBarChildren>\n            </Responsive>\n        </div>\n        );\n    }\n}\n\nconst App = (props) => (\n    <NavBar stateProps={props}>\n        {props.children}\n    </NavBar>\n);\n\nlet mapStateToProps = (state) => {\n    return ({\n        forecast: state.weatherReducer.forecast,\n        tempMain: state.weatherReducer.tempMain,\n        zipcode: state.weatherReducer.zipcode,\n        weatherImage: state.weatherReducer.weatherImage,\n        isLoggedIn: state.auth.isLoggedIn,\n        username: state.auth.username\n    })\n}\n\n\nexport default connect (\n    mapStateToProps\n)(App);\n\n"]},"metadata":{},"sourceType":"module"}